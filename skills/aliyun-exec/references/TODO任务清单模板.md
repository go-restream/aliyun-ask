# TODO 任务清单模板

本文档定义了 Aliyun Exec 技能输出 TODO 任务清单的标准格式。

## 标准格式结构

```markdown
# 任务分析

这是一个 {复杂度} 的 {任务类型} 任务，目标是 {简要描述任务目标}。

## TODO 任务列表

# {任务标题}

## 阶段 1: 环境准备
- [ ] 1.1 验证阿里云 CLI 已安装并配置 (`aliyun version`)
- [ ] 1.2 验证凭证配置有效 (`aliyun account GetProfile`)
- [ ] 1.3 确认目标地域 ($REGION_ID)，如未指定则使用默认地域
- [ ] 1.4 验证所需权限是否具备

## 阶段 2: {阶段名称}
- [ ] 2.1 {任务描述}
      ```bash
      aliyun <service> <api> --param1 value1 --param2 value2 \
        | jq '<过滤表达式>'
     ```
  输出: 保存到 {filename.json}

## 阶段 3: {阶段名称}
...

## 阶段 N: {报告生成/清理}
...

## 执行依赖关系图

{可视化展示阶段之间的依赖关系}

## 关键注意事项
1. **权限要求**: {所需权限列表}
2. **地域参数**: {地域参数说明}
3. **条件执行**: {条件执行说明}
4. **分页处理**: {分页处理说明}
```

## 格式要点

### 任务分析
- 简要说明任务类型（简单查询、关联查询、诊断查询等）
- 说明复杂度等级（L1-L5）
- 概述任务目标

### 阶段划分
按逻辑关系划分任务阶段：

1. **环境准备阶段**: 验证工具、凭证、参数、权限
2. **资源发现阶段**: 查询主资源列表，获取基础数据
3. **关联查询阶段**: 根据依赖关系查询关联资源
4. **数据处理阶段**: 应用过滤、转换、格式化
5. **报告生成阶段**: 汇总结果、应用诊断规则、生成报告

### 任务项格式
每个任务项包含：
- 任务描述
- CLI 命令（使用代码块）
- 输出说明

### 依赖关系图
使用 ASCII 字符绘制依赖关系：

```
阶段1 → 阶段2.1 → 阶段2.2
↓
阶段3 (并行) → 阶段4.1 (条件执行)
↓              ↓
阶段4.2 ←─────────────┘
↓
阶段5 → 阶段6
```

### 关键注意事项
列出执行过程中的重要信息：
- 权限要求
- 参数说明
- 条件执行逻辑
- 分页处理策略
- 错误处理建议

## 示例

参见 [示例.md](示例.md) 获取完整的实际案例。
