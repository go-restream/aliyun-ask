# 阿里云云资源意图分类词典

## 一、分类体系概述
本词典定义了阿里云云资源查询场景的完整意图分类体系，旨在为自然语言查询提供标准化的意图识别依据。体系采用多层次、多维度的分类方法，覆盖从简单查询到复杂分析的所有场景。

## 二、一级分类（主意图）

### 1. 简单查询 (SIMPLE_QUERY)
特征: 单一资源、单次API调用、明确标识符、无复杂关联

典型查询: "查看ECS实例i-123的详情"
处理复杂度: ⭐☆☆☆☆
API调用数: 1
输出模式: 单实例详情

### 2. 关联查询 (ASSOCIATION_QUERY)
特征: 涉及资源间关系、需要关联数据、多重依赖

典型查询: "ECS i-123挂载了哪些磁盘"
处理复杂度: ⭐⭐⭐☆☆
API调用数: 2-3
输出模式: 主从式关系树

### 3. 复合查询 (COMPOUND_QUERY)
特征: 多维度条件、多服务聚合、需要数据计算

典型查询: "统计生产环境所有数据库的使用率"
处理复杂度: ⭐⭐⭐⭐☆
API调用数: 3-5
输出模式: 聚合统计视图

### 4. 诊断查询 (DIAGNOSTIC_QUERY)
特征: 隐含问题检测、状态检查、配置审计、性能分析

典型查询: "检查所有ECS安全组是否安全"
处理复杂度: ⭐⭐⭐⭐☆
API调用数: 2-4 + 规则引擎
输出模式: 诊断报告

### 5. 对比查询 (COMPARISON_QUERY)
特征: 多资源/状态对比、差异分析、趋势比较

典型查询: "比较生产和测试环境ECS配置"
处理复杂度: ⭐⭐⭐☆☆
API调用数: 2
输出模式: 比较表格

### 6. 运维操作建议 (OPERATIONAL_QUERY)
特征: 隐含运维需求、变更建议、优化指引

典型查询: "如何优化我的数据库性能"
处理复杂度: ⭐⭐⭐⭐☆
API调用数: 1-3 + 知识库
输出模式: 操作建议清单

## 三、二级分类（子意图）

### 简单查询的子类

子类代码	子类名称	描述	触发关键词	示例查询
SIMPLE_INSTANCE	单实例详情 	通过ID/名称查询单个资源的完整信息 	查看、详情、信息、配置	"查看ECS实例i-123" 
SIMPLE_ATTRIBUTE	单属性查询	查询特定资源的单个属性值	的IP、叫什么、状态	"ECS i-123的IP是多少" 
SIMPLE_EXISTENCE	存在性检查	检查特定资源是否存在	有没有、是否存在、是否存在	"检查ECS i-123是否存在" 
SIMPLE_STATUS	状态检查	查询资源的运行状态	状态、是否运行、是否正常	"ECS i-123状态如何" 
SIMPLE_METRICS	监控指标	查询资源的实时监控数据	CPU、内存、使用率、监控	"ECS i-123的CPU使用率" 

### 关联查询的子类

子类代码	子类名称	描述	触发关键词	示例查询
ASSOC_DIRECT	直接关联	查询直接关联的资源	挂载、绑定、连接、属于 	"ECS i-123的磁盘" 
ASSOC_INDIRECT	间接关联	通过中间资源查询关联	所在的VPC、通过、使用	"ECS i-123所在的VPC" 
ASSOC_HIERARCHY	层级关系	查询包含或从属关系	下面的、包含、下属	"VPC vpc-x包含哪些ECS"
ASSOC_MULTIHOP	多跳关联	需要多步骤的关联查询	连接的、依赖的链、关系链	"这ECS连接的公网IP"
ASSOC_NETWORK	网络关联	特定网络拓扑关系	网络、子网、网关、路由	"ECS的网络配置"

### 复合查询的子类

子类代码	子类名称	描述	触发关键词	示例查询
COMPOUND_AGGREGATE	聚合查询	对多个资源进行统计聚合	统计、总数、合计、平均	"统计ECS总数"
COMPOUND_CATEGORY	分类查询	按维度分类展示	按地域、按类型、分组	"按地域分组ECS"
COMPOUND_CROSS_SERVICE	跨服务	涉及多个云服务的查询 	和、与、及、还有	"VPC下的ECS和RDS" 
COMPOUND_CONDITIONAL	多条件	多个过滤条件的组合查询	并且、同时、满足	"运行中且内存>8G的ECS"
COMPOUND_TIMELINE	时间序列	带时间维度的查询	最近、过去、昨天、上个月	"最近24小时创建的ECS"

### 诊断查询的子类

子类代码	子类名称	描述	触发关键词	示例查询
DIAG_CONFIG	配置诊断	检查资源配置合规性	配置、设置、规则、策略	"检查安全组配置"
DIAG_SECURITY	安全检查	发现潜在安全风险	安全、漏洞、风险、威胁	"检查ECS端口暴露"
DIAG_PERFORMANCE	性能诊断	发现性能瓶颈	慢、卡顿、性能、瓶颈	"为什么这台ECS慢"
DIAG_COST	成本诊断	分析资源使用效率	成本、浪费、优化、节省	"哪些ECS利用率低"
DIAG_AVAILABILITY	可用性诊断	检查服务可用性	可用性、是否正常、健康	"检查应用服务状态"
DIAG_AUDIT	审计检查	满足合规要求的检查	审计、合规、策略符合性	"审计RAM权限分配"

### 对比查询的子类

子类代码	子类名称	描述	触发关键词	示例查询
COMPARE_CONFIG	配置对比	比较资源配置差异	配置、规格、参数	"两台ECS配置对比"
COMPARE_STATE	状态对比	比较运行状态差异	状态、速度、延迟	"生产测试环境对比"
COMPARE_METRICS	指标对比	比较监控指标差异	性能、使用率、负载	"比较CPU使用率"
COMPARE_TIMELINE	时间对比	不同时间点的对比	趋势、变化、昨天和今天	"CPU使用率的变化"

### 运维操作建议的子类

子类代码	子类名称	描述	触发关键词	示例查询
OPS_OPTIMIZE	优化建议	提供优化建议	优化、改进、提升、建议	"如何优化数据库"
OPS_SCALE	扩缩容建议	扩容或缩容建议	扩容、缩容、规格调整	"何时需要扩容ECS"
OPS_BACKUP	备份建议	备份策略建议	备份、恢复、计划	"RDS备份策略"
OPS_MIGRATE	迁移建议	迁移方案建议	迁移、转移、搬迁	"如何迁移ECS实例"
OPS_MAINTENANCE	维护建议	定期维护建议	维护、更新、补丁	"系统如何维护"



## 四、三级分类（业务场景）

### 常见业务场景映射

业务场景	映射意图组合	典型查询模式 	涉及服务
网站托管	SIMPLE_STATUS + DIAG_PERFORMANCE + ASSOC_NETWORK	"我的网站服务器状态和性能"	ECS + SLB + DNS
数据库服务	COMPOUND_AGGREGATE + DIAG_CONFIG + OPS_BACKUP	"数据库实例状态和备份"	RDS + OSS
应用部署	ASSOC_HIERARCHY + DIAG_AVAILABILITY + COMPARE_CONFIG	"应用部署环境对比"	ECS + RDS + SLB
大数据分析	COMPOUND_CROSS_SERVICE + DIAG_COST + COMPOUND_TIMELINE	"大数据集群消耗统计"	ECS + OSS + EMR
容器化应用	ASSOC_MULTIHOP + DIAG_SECURITY + OPS_SCALE	"K8s集群资源使用"	ACK + ECS + SLB
混合云架构	COMPOUND_CONDITIONAL + DIAG_AUDIT + COMPARE_STATE	"混合云资源状态对比"	ECS + VPN + Express Connect


### 角色场景映射
用户角色	常用意图组合	关注维度	典型查询
运维工程师	DIAG_* + COMPOUND_AGGREGATE + ASSOC_*	稳定性、性能、成本	"所有服务健康检查"
开发工程师	SIMPLE_ATTRIBUTE + ASSOC_DIRECT + SIMPLE_METRICS	连接信息、状态、日志	"我的应用服务器IP"
架构师	COMPARE_* + COMPOUND_CROSS_SERVICE + OPS_OPTIMIZE	架构合理性、性能瓶颈	"全栈架构瓶颈分析"
财务/管理	COMPOUND_AGGREGATE + DIAG_COST + COMPOUND_TIMELINE	成本、使用率、ROI	"本月云资源花费统计"
安全审计	DIAG_SECURITY + DIAG_AUDIT + COMPOUND_CATEGORY	安全性、合规性、权限	"全账号权限审计"


## 五、分类特征维度

### 复杂度维度
定义分类的复杂程度，影响执行策略选择

复杂度等级	API调用数	数据处理量	执行时间估算	适用意图
L1-极简	1	<1KB	<100ms	SIMPLE_*
L2-简单	1-2	<10KB	<1s	ASSOC_DIRECT
L3-中等	2-3	<100KB	<5s	COMPOUND_CATEGORY
L4-复杂	3-5	<1MB	<30s	COMPOUND_CROSS_SERVICE
L5-极复杂	5+	>1MB	>30s	DIAG_COST + COMPOUND_CROSS_SERVICE


### 输出形态维度
定义查询结果的展示样式

输出形态	描述	适用意图	用户场景
详情表单	单资源的详细字段展示	SIMPLE_INSTANCE	查看具体资源
列表表格	多个资源的属性对比	COMPOUND_CATEGORY	列表对比浏览
关系图	资源间关联的可视化	ASSOC_*	架构理解
统计图表	聚合数据的图表展示	COMPOUND_AGGREGATE	数据分析
诊断报告	问题分析和建议	DIAG_*	故障排查
对比表格	多资源差异对比	COMPARE_*	方案对比


### 交互模式维度
定义用户与系统的交互方式

交互模式	描述	适用意图	用户输入特征
一次性	单次查询即得结果	SIMPLE_*	明确的标识符
多轮对话	需要澄清信息	ASSOC_INDIRECT	模糊的资源描述
分步展示	按阶段展示结果	COMPOUND_*	复杂多维度需求
交互式诊断	逐步引导诊断	DIAG_PERFORMANCE	问题现象描述
对比模式	动态选择比较项	COMPARE_*	"vs"、"对比"

## 六、分类决策树
### 意图识别流程图
开始
  ↓
用户输入自然语言查询
  ↓
[第一步：基础特征提取]
  ├── 包含具体ID/名称 → 转向SIMPLE_*分支
  ├── 包含"关系词"(的、属于、包含等) → 转向ASSOC_*分支
  ├── 包含"统计词"(统计、总共、平均等) → 转向COMPOUND_*分支
  ├── 包含"诊断词"(检查、为什么、问题) → 转向DIAG_*分支
  ├── 包含"对比词"(对比、vs、差异) → 转向COMPARE_*分支
  └── 包含"建议词"(如何、怎么、建议) → 转向OPS_*分支
  ↓
[第二步：复杂度评估]
  ├── 涉及服务数=1 → 简单
  ├── 涉及服务数=2 → 中等
  └── 涉及服务数>2 → 复杂
  ↓
[第三步：业务场景识别]
  ├── 电商相关词 → 电商场景
  ├── 游戏相关词 → 游戏场景
  └── 金融相关词 → 金融场景
  ↓
输出最终意图分类(主意图.子意图.复杂度.场景)
结束

### 示例分类过程
查询: "统计我的生产环境VPC中所有ECS实例的CPU使用率，并按使用率排序"

基础特征: "统计" → COMPOUND_AGGREGATE
复杂度: 涉及VPC+ECS+CloudMonitor → 涉及3服务 → 复杂度L4
业务场景: "生产环境" → 生产部署场景
最终分类: COMPOUND_AGGREGATE.COMPOUND_CROSS_SERVICE.L4.生产部署

## 七、特殊场景处理
### 模糊查询处理
当用户查询无法明确分类时的处理策略

模糊类型特征降级策略首选分类次选分类资源标识模糊"我的服务器"基于上下文推测SIMPLE_ATTRIBUTEASSOC_HIERARCHY意图表达模糊"看看"基于历史习惯SIMPLE_INSTANCECOMPOUND_CATEGORY关系描述模糊"相关的"基于知识图谱ASSOC_DIRECTASSOC_INDIRECT维度指定模糊"一些"默认展示Top10COMPOUND_AGGREGATESIMPLE_STATUS

### 复合意图处理
用户查询包含多个意图时的拆分策略

复合模式处理策略优先级顺序执行方式并列式"A和B"按权重排序并行执行 递进式"A再B"按顺序执行串行执行条件式"如果A则B"A优先评估条件执行包含式"包括A的B"B优先执行嵌套执行

## 八、分类词典维护机制
### 版本更新规则

重大更新(v2.0→v3.0): 新增一级分类或重构分类体系
功能更新(v2.0→v2.1): 新增二级分类或业务场景
维护更新(v2.0.0→v2.0.1): 修正分类描述或示例

### 数据来源

用户查询日志分析(70%)
客服常见问题总结(20%)
产品经理规划输入(10%)

### 质量指标

指标名称目标值测量方法分类覆盖率>95%随机抽样评估分类准确率>90%人工标注对比边界清晰度>85%模糊查询分类一致性意图识别召回率>92%用户反馈统计

## 九、附录：触发关键词扩展库

### 简单查询关键词库
详情类: 查看, 详情, 信息, 配置, 规格, 参数, 属性
状态类: 状态, 运行, 停止, 启动, 重启, 正常, 异常
存在类: 有, 没有, 存在, 是否存在, 是不是, 是否
指标类: IP, 地址, 端口, 域名, 名称, 型号, 版本

### 关联查询关键词库
直接关联: 的, 挂载, 绑定, 连接, 属于, 拥有, 包含
间接关联: 所在, 通过, 经过, 使用, 依赖, 基于
层级关联: 下面, 包含, 下属, 下级, 上一层, 父级
网络关联: 网络, 子网, 网关, 路由, 防火墙, 安全组

### 复合查询关键词库
统计类: 统计, 总数, 合计, 平均, 最大, 最小, 总计
分类类: 按, 分组, 分类, 地区, 类型, 状态, 标签
条件类: 并且, 同时, 满足, 条件, 要求, 符合
时间类: 最近, 过去, 昨天, 今天, 上周, 本月, 去年

### 诊断查询关键词库
配置类: 配置, 设置, 规则, 策略, 参数, 策略
安全类: 安全, 危险, 漏洞, 风险, 威胁, 攻击
性能类: 慢, 卡顿, 延迟, 响应, 吞吐, 瓶颈
成本类: 成本, 费用, 开销, 浪费, 节省, 优化
可用类: 可用, 正常, 故障, 中断, 恢复, 健康
审计类: 审计, 合规, 标准, 策略, 检查, 审核

### 对比查询关键词库
比较类: 对比, 比较, 差异, 区别, 不同, 相似
趋势类: 趋势, 变化, 增长, 下降, 波动, 稳定
优劣类: 更好, 更差, 优势, 劣势, 优缺点

### 运维建议关键词库
优化类: 优化, 改进, 提升, 增强, 加速, 扩容
操作类: 如何, 怎么, 步骤, 流程, 方法, 指南
建议类: 建议, 推荐, 方案, 计划, 策略, 最佳实践



### 十 测试问题与分类结果样例

1. 查看ECS实例 i-0x12345678abcdef 的详细信息

分类结果：

主意图：SIMPLE_QUERY（简单查询）
子意图：SIMPLE_INSTANCE（单实例详情）
复杂度：L1-极简
业务场景：通用资源查询


2. 我的那台Web服务器还在吗？

分类结果：

主意图：SIMPLE_QUERY（简单查询）
子意图：SIMPLE_EXISTENCE（存在性检查）
复杂度：L2-简单（需上下文推测）
业务场景：网站托管


3. ECS实例 i-5432 挂载了哪些云盘？

分类结果：

主意图：ASSOCIATION_QUERY（关联查询）
子意图：ASSOC_DIRECT（直接关联）
复杂度：L2-简单
业务场景：通用资源关联


4. VPC vpc-bp1abcdefg123456 下面有哪些资源？

分类结果：

主意图：ASSOCIATION_QUERY（关联查询）
子意图：ASSOC_HIERARCHY（层级关系）
复杂度：L3-中等
业务场景：架构资源管理


5. 统计一下北京地域所有运行中，并且CPU大于4核的ECS实例的总数和内存总量。

分类结果：

主意图：COMPOUND_QUERY（复合查询）
子意图：COMPOUND_AGGREGATE（聚合查询）+ COMPOUND_CONDITIONAL（多条件）
复杂度：L3-中等
业务场景：资源容量规划


6. 列出生产环境VPC 'prod-vpc' 里面的所有ECS实例和RDS实例，以及它们的内网连接信息。

分类结果：

主意图：COMPOUND_QUERY（复合查询）
子意图：COMPOUND_CROSS_SERVICE（跨服务）+ ASSOC_NETWORK（网络关联）
复杂度：L4-复杂
业务场景：应用部署


7. 检查一下我的所有安全组，有没有开放了22端口给0.0.0.0/0的规则？

分类结果：

主意图：DIAGNOSTIC_QUERY（诊断查询）
子意图：DIAG_SECURITY（安全检查）
复杂度：L3-中等
业务场景：安全审计


8. 对比一下'生产-db'和'测试-db'这两个RDS实例的配置和性能指标。

分类结果：

主意图：COMPARISON_QUERY（对比查询）
子意图：COMPARE_CONFIG（配置对比）+ COMPARE_METRICS（指标对比）
复杂度：L3-中等
业务场景：数据库服务


9. 我这个月的OSS存储费用有点高，怎么优化能省钱？

分类结果：

主意图：OPERATIONAL_QUERY（运维操作建议）
子意图：OPS_OPTIMIZE（优化建议）+ DIAG_COST（成本诊断）
复杂度：L4-复杂
业务场景：成本优化

10. 最近一周，我们电商应用的生产环境（标签 env=prod）响应变慢，帮我分析一下可能是什么问题。需要看所有相关ECS、RDS、SLB的状态、负载和错误日志。

分类结果：

主意图：DIAGNOSTIC_QUERY（诊断查询）
子意图：DIAG_PERFORMANCE（性能诊断）+ COMPOUND_CROSS_SERVICE（跨服务）+ COMPOUND_TIMELINE（时间序列）
复杂度：L5-极复杂
业务场景：电商应用 + 生产部署
